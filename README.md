# æ¿æåˆ‡å‰²ä¼˜åŒ–ç³»ç»Ÿ

ä¸€ä¸ªä¸“ä¸šçš„æ¿æåˆ‡å‰²ä¼˜åŒ–Webåº”ç”¨ç³»ç»Ÿï¼Œæä¾›æ™ºèƒ½çš„åˆ‡å‰²æ–¹æ¡ˆç”Ÿæˆå’Œå¯è§†åŒ–å±•ç¤ºã€‚

## ğŸš€ é¡¹ç›®ç‰¹è‰²

- **æ™ºèƒ½ä¼˜åŒ–ç®—æ³•**ï¼šåŸºäºå…ˆè¿›ç®—æ³•çš„æ¿æåˆ‡å‰²ä¼˜åŒ–
- **å¯è§†åŒ–å±•ç¤º**ï¼šç›´è§‚çš„åˆ‡å‰²æ–¹æ¡ˆå›¾å½¢åŒ–å±•ç¤º
- **é¡¹ç›®ç®¡ç†**ï¼šå®Œæ•´çš„é¡¹ç›®ç”Ÿå‘½å‘¨æœŸç®¡ç†
- **å®æ—¶ç»Ÿè®¡**ï¼šè¯¦ç»†çš„åˆ©ç”¨ç‡å’Œä½¿ç”¨æƒ…å†µç»Ÿè®¡
- **å“åº”å¼è®¾è®¡**ï¼šæ”¯æŒå¤šè®¾å¤‡è®¿é—®çš„ç°ä»£åŒ–ç•Œé¢

## ğŸ“ é¡¹ç›®ç»“æ„

```
Plate_Cutting/
â”œâ”€â”€ frontend/                 # å‰ç«¯é¡¹ç›®
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ app/             # Next.js åº”ç”¨é¡µé¢
â”‚   â”‚   â”œâ”€â”€ components/      # React ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ config/          # é…ç½®æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ utils/           # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ public/              # é™æ€èµ„æº
â”‚   â””â”€â”€ package.json         # å‰ç«¯ä¾èµ–
â”œâ”€â”€ backend/                  # åç«¯é¡¹ç›®
â”‚   â”œâ”€â”€ api.py              # FastAPI æ¥å£
â”‚   â”œâ”€â”€ main.py             # æ ¸å¿ƒä¼˜åŒ–ç®—æ³•
â”‚   â”œâ”€â”€ config.py           # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ run.py              # æœåŠ¡å¯åŠ¨
â”‚   â””â”€â”€ requirements.txt    # Python ä¾èµ–
â””â”€â”€ README.md               # é¡¹ç›®è¯´æ˜
```

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯
- **Next.js 14** - React å…¨æ ˆæ¡†æ¶
- **TypeScript** - ç±»å‹å®‰å…¨çš„ JavaScript
- **Tailwind CSS** - å®ç”¨ä¼˜å…ˆçš„ CSS æ¡†æ¶
- **Supabase** - å®æ—¶æ•°æ®åº“å’Œè®¤è¯æœåŠ¡

### åç«¯
- **FastAPI** - ç°ä»£ã€å¿«é€Ÿçš„ Python Web æ¡†æ¶
- **Python 3.8+** - ç¼–ç¨‹è¯­è¨€
- **Supabase** - æ•°æ®åº“æœåŠ¡
- **Pydantic** - æ•°æ®éªŒè¯

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Node.js 18+
- Python 3.8+
- Git

### 1. å…‹éš†é¡¹ç›®
```bash
git clone <repository-url>
cd Plate_Cutting
```

### 2. å‰ç«¯è®¾ç½®
```bash
cd frontend
npm install
npm run dev
```
å‰ç«¯æœåŠ¡å°†åœ¨ http://localhost:3000 å¯åŠ¨

### 3. åç«¯è®¾ç½®
```bash
cd backend
python -m venv venv

# Windows
venv\Scripts\activate

# macOS/Linux
source venv/bin/activate

pip install -r requirements.txt
python run.py
```
åç«¯æœåŠ¡å°†åœ¨ http://localhost:8000 å¯åŠ¨

### 4. ç¯å¢ƒé…ç½®
åˆ›å»º `.env.local` æ–‡ä»¶å¹¶é…ç½® Supabase è¿æ¥ä¿¡æ¯ï¼š
```env
SUPABASE_URL=your_supabase_url
SUPABASE_KEY=your_supabase_key
```

## ğŸ“– ä½¿ç”¨æŒ‡å—

### é¡¹ç›®ç®¡ç†
1. **åˆ›å»ºé¡¹ç›®**ï¼šåœ¨é¡¹ç›®åˆ—è¡¨é¡µé¢ç‚¹å‡»"æ–°å»ºé¡¹ç›®"
2. **ç¼–è¾‘ä¿¡æ¯**ï¼šè®¾ç½®é¡¹ç›®åç§°ã€è¯¦æƒ…å’Œæè¿°
3. **é…ç½®å‚æ•°**ï¼šè®¾ç½®é”¯ç‰‡å®½åº¦å’Œä¼˜åŒ–æ¨¡å¼

### æ•°æ®ç®¡ç†
1. **æ¿æä¿¡æ¯**ï¼šæ·»åŠ å¤§æ¿æçš„å°ºå¯¸å’Œæ•°é‡
2. **é›¶ä»¶ä¿¡æ¯**ï¼šæ·»åŠ éœ€è¦åˆ‡å‰²çš„é›¶ä»¶å°ºå¯¸å’Œæ•°é‡
3. **å¸¸ç”¨å°ºå¯¸**ï¼šç®¡ç†å¸¸ç”¨çš„é›¶ä»¶å°ºå¯¸ä¿¡æ¯

### åˆ‡å‰²ä¼˜åŒ–
1. **å‚æ•°è®¾ç½®**ï¼šé€‰æ‹©ä¼˜åŒ–æ¨¡å¼ï¼ˆæ­£å¸¸/ä¼˜åŒ–ï¼‰
2. **æ‰§è¡Œä¼˜åŒ–**ï¼šç‚¹å‡»"åˆ‡æ¿"æŒ‰é’®å¼€å§‹ä¼˜åŒ–
3. **æŸ¥çœ‹ç»“æœ**ï¼šåœ¨æ’ç‰ˆé¡µé¢æŸ¥çœ‹åˆ‡å‰²æ–¹æ¡ˆ
4. **ç»Ÿè®¡åˆ†æ**ï¼šæŸ¥çœ‹åˆ©ç”¨ç‡å’Œä½¿ç”¨æƒ…å†µç»Ÿè®¡

## ğŸ”§ æ ¸å¿ƒåŠŸèƒ½

### å‰ç«¯åŠŸèƒ½
- **é¡¹ç›®åˆ—è¡¨** (`/project`)ï¼šé¡¹ç›®ç®¡ç†å’Œåˆ—è¡¨å±•ç¤º
- **é¡¹ç›®è¯¦æƒ…** (`/project/[id]`)ï¼šé¡¹ç›®ä¿¡æ¯ç¼–è¾‘å’Œæ•°æ®ç®¡ç†
- **æ’ç‰ˆå±•ç¤º** (`/layout/[id]`)ï¼šåˆ‡å‰²æ–¹æ¡ˆå¯è§†åŒ–å±•ç¤º
- **ç»Ÿè®¡åˆ†æ** (`/layout/[id]/stats`)ï¼šè¯¦ç»†çš„ç»Ÿè®¡ä¿¡æ¯

### åç«¯åŠŸèƒ½
- **ä¼˜åŒ–ç®—æ³•**ï¼šæ™ºèƒ½çš„æ¿æåˆ‡å‰²ä¼˜åŒ–ç®—æ³•
- **API æ¥å£**ï¼šå®Œæ•´çš„ RESTful API æœåŠ¡
- **æ•°æ®ç®¡ç†**ï¼šé¡¹ç›®æ•°æ®çš„å¢åˆ æ”¹æŸ¥
- **å®æ—¶åŒæ­¥**ï¼šä¸ Supabase æ•°æ®åº“çš„å®æ—¶åŒæ­¥

## ğŸ“Š æ•°æ®æ¨¡å‹

### é¡¹ç›® (Projects)
```typescript
interface Project {
  id: number;
  name: string;
  details: string;
  description: string;
  saw_blade: number;
  plates: Plate[];
  orders: Order[];
  others: Other[];
  cutted: CuttingPlan[];
  created_at: string;
  updated_at: string;
}
```

### åˆ‡å‰²æ–¹æ¡ˆ (CuttingPlan)
```typescript
interface CuttingPlan {
  rate: number;           // åˆ©ç”¨ç‡
  plate: [number, number]; // æ¿æå°ºå¯¸
  cutted: CuttedItem[];   // åˆ‡å‰²è®°å½•
}
```

## ğŸ”Œ API æ¥å£

### ä¼˜åŒ–åˆ‡å‰²
```http
POST /api/optimize
Content-Type: application/json

{
  "uid": "ç”¨æˆ·ID",
  "project_id": "é¡¹ç›®ID",
  "plates": [...],
  "orders": [...],
  "others": [...],
  "optimization": 1,
  "saw_blade": 4
}
```

### å“åº”æ ¼å¼
```json
{
  "code": 0,
  "message": "success",
  "cutting_plans": [...],
  "total_utilization": 85.5,
  "pieces_placed": 120,
  "plates_used": 5
}
```

## âš™ï¸ é…ç½®è¯´æ˜

### åç«¯é…ç½® (`backend/config.py`)
- **æœåŠ¡å™¨é…ç½®**ï¼šHOST, PORT, DEBUG ç­‰
- **CORS é…ç½®**ï¼šè·¨åŸŸè¯·æ±‚è®¾ç½®
- **æ•°æ®åº“é…ç½®**ï¼šSupabase è¿æ¥ä¿¡æ¯
- **ä¼˜åŒ–å‚æ•°**ï¼šé»˜è®¤çš„åˆ‡å‰²å‚æ•°

### å‰ç«¯é…ç½® (`frontend/src/config/`)
- **API é…ç½®**ï¼šåç«¯æœåŠ¡åœ°å€
- **Supabase é…ç½®**ï¼šæ•°æ®åº“è¿æ¥ä¿¡æ¯

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜
1. **å‰ç«¯æ— æ³•å¯åŠ¨**ï¼šæ£€æŸ¥ Node.js ç‰ˆæœ¬å’Œä¾èµ–å®‰è£…
2. **åç«¯è¿æ¥å¤±è´¥**ï¼šæ£€æŸ¥ Python ç¯å¢ƒå’Œä¾èµ–
3. **æ•°æ®åº“è¿æ¥é”™è¯¯**ï¼šéªŒè¯ Supabase é…ç½®ä¿¡æ¯
4. **ä¼˜åŒ–ç®—æ³•å¼‚å¸¸**ï¼šæ£€æŸ¥è¾“å…¥æ•°æ®çš„æœ‰æ•ˆæ€§

### è°ƒè¯•æ¨¡å¼
```bash
# å‰ç«¯è°ƒè¯•
npm run dev

# åç«¯è°ƒè¯•
python run.py --debug
```

## ğŸ“ å¼€å‘è¯´æ˜

### ä»£ç è§„èŒƒ
- ä½¿ç”¨ TypeScript è¿›è¡Œç±»å‹æ£€æŸ¥
- éµå¾ª ESLint ä»£ç è§„èŒƒ
- ä½¿ç”¨ Prettier è¿›è¡Œä»£ç æ ¼å¼åŒ–

### æµ‹è¯•
```bash
# å‰ç«¯æµ‹è¯•
npm run test

# åç«¯æµ‹è¯•
pytest
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»º Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š
- æäº¤ Issue
- å‘é€é‚®ä»¶è‡³ï¼š[your-email@example.com]

---

**æ³¨æ„**ï¼šä½¿ç”¨å‰è¯·ç¡®ä¿æ‰€æœ‰è¾“å…¥æ•°æ®ä¸ºæ­£æ•´æ•°ï¼Œæ¿æå’Œé›¶ä»¶å°ºå¯¸å¿…é¡»å¤§äºé”¯ç‰‡å®½åº¦ã€‚
